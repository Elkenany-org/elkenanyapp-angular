{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport { delay } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@app/@core/services/toastr.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"./@core/services/auth/auth.service\";\nimport * as i5 from \"./@core/services/auth/localstorage.service\";\nimport * as i6 from \"./@shared/components/app/popup/popup.component\";\nimport * as i7 from \"./@shared/components/navbar/navbar.component\";\nimport * as i8 from \"./@shared/components/footer/footer.component\";\n\nfunction AppComponent_app_navbar_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-navbar\");\n  }\n}\n\nfunction AppComponent_img_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 4);\n  }\n}\n\nconst _c0 = function (a0, a1) {\n  return {\n    display: a0,\n    none: a1\n  };\n};\n\nfunction AppComponent_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function AppComponent_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.scrollToTop();\n    });\n    i0.ɵɵelement(1, \"span\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(1, _c0, ctx_r2.offsetFlag, ctx_r2.offsetFlag));\n  }\n}\n\nfunction AppComponent_app_footer_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-footer\");\n  }\n}\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(_loading, scroll, router, route, auth, localStorageService) {\n      this._loading = _loading;\n      this.scroll = scroll;\n      this.router = router;\n      this.route = route;\n      this.auth = auth;\n      this.localStorageService = localStorageService;\n      this.loading = false;\n      this.toggleMenu = false;\n      this.offsetFlag = true;\n    }\n\n    onScroll(event) {\n      this.pageYoffset = window.pageYOffset; // console.log(this.pageYoffset);\n\n      if (window.pageYOffset < 100) this.offsetFlag = true;else this.offsetFlag = false;\n    }\n\n    ngOnInit() {\n      this.listenToLoading();\n      this.setUpAnalytics();\n      this.auth.requestPermission(); // localStorage.setItem('total','0');\n\n      if (localStorage.getItem('state') == undefined) {\n        this.loginByGooglePopup();\n      }\n\n      this.router.events.subscribe(events => {\n        if (events instanceof NavigationEnd) {\n          this.routeurl1 = decodeURIComponent(this.router.url);\n        }\n      });\n    }\n\n    scrollToTop() {\n      this.scroll.scrollToPosition([0, 0]);\n    }\n\n    onToggleMenu() {\n      if (this.toggleMenu === true) {\n        this.toggleMenu = false;\n      } else {\n        this.toggleMenu = true;\n      }\n    }\n\n    listenToLoading() {\n      this._loading.loadingSub.pipe(delay(0)) // This prevents a ExpressionChangedAfterItHasBeenCheckedError for subsequent requests\n      .subscribe(loading => {\n        this.loading = loading;\n      });\n    }\n\n    setUpAnalytics() {\n      this.router.events.subscribe(event => {\n        if (event instanceof NavigationEnd) {\n          gtag('event', 'page_view', {\n            page_path: event.urlAfterRedirects\n          });\n        }\n      });\n    }\n\n    loginByGooglePopup() {\n      window.google.accounts.id.initialize({\n        client_id: \"552649577410-qs09ipcibvdfcfd97phi3drru3qufis0.apps.googleusercontent.com\",\n        callback: response => {\n          const helper = new JwtHelperService();\n          const responsePayload = helper.decodeToken(response.credential);\n          let data = {\n            email: responsePayload.email,\n            name: responsePayload.name,\n            google_id: responsePayload.sub,\n            device_token: '52151'\n          };\n          this.auth.RegisterLogin_google(data).subscribe(res => {\n            // console.log(res);\n            this.localStorageService.setState('token', res.data.api_token);\n            let user = {\n              name: res.data.name,\n              email: res.data.email,\n              phone: ''\n            };\n            localStorage.setItem('user', JSON.stringify(user));\n            this.auth.dataTonav.emit(true);\n            console.log('You have been successfully logged in!');\n          });\n        }\n      });\n      window.google.accounts.id.prompt(); // also display the One Tap dialog      \n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.ToasterService), i0.ɵɵdirectiveInject(i2.ViewportScroller), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.AuthService), i0.ɵɵdirectiveInject(i5.LocalstorageService));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    hostBindings: function AppComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"scroll\", function AppComponent_scroll_HostBindingHandler($event) {\n          return ctx.onScroll($event);\n        }, false, i0.ɵɵresolveWindow);\n      }\n    },\n    decls: 7,\n    vars: 4,\n    consts: [[4, \"ngIf\"], [\"bdColor\", \"rgba(51,51,51,0.8)\", \"size\", \"medium\", \"color\", \"#fff\", \"type\", \"ball-scale-multiple\"], [\"src\", \"assets\\\\images\\\\loading1 (1).gif\", \"alt\", \"\", \"class\", \"center\", 4, \"ngIf\"], [\"class\", \"btn_top animated fadeIn\", \"id\", \"myBtn\", \"style\", \"right: 10px\", 3, \"ngClass\", \"click\", 4, \"ngIf\"], [\"src\", \"assets\\\\images\\\\loading1 (1).gif\", \"alt\", \"\", 1, \"center\"], [\"id\", \"myBtn\", 1, \"btn_top\", \"animated\", \"fadeIn\", 2, \"right\", \"10px\", 3, \"ngClass\", \"click\"], [1, \"arrow\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-popup\");\n        i0.ɵɵtemplate(1, AppComponent_app_navbar_1_Template, 1, 0, \"app-navbar\", 0);\n        i0.ɵɵelement(2, \"ngx-spinner\", 1);\n        i0.ɵɵtemplate(3, AppComponent_img_3_Template, 1, 0, \"img\", 2);\n        i0.ɵɵtemplate(4, AppComponent_button_4_Template, 2, 4, \"button\", 3);\n        i0.ɵɵelement(5, \"router-outlet\");\n        i0.ɵɵtemplate(6, AppComponent_app_footer_6_Template, 1, 0, \"app-footer\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.routeurl1 != \"/\\u062A\\u0633\\u062C\\u064A\\u0644-\\u0627\\u0644\\u062F\\u062E\\u0648\\u0644\" && ctx.routeurl1 != \"/\\u0625\\u0646\\u0634\\u0627\\u0621-\\u062D\\u0633\\u0627\\u0628\" && ctx.routeurl1 != \"/company-profile\" && ctx.routeurl1 != \"/Gamal-Elkenany\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading && ctx.routeurl1 != \"/company-profile\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.routeurl1 != \"/company-profile\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.routeurl1 != \"\\u062A\\u0633\\u062C\\u064A\\u0644-\\u0627\\u0644\\u062F\\u062E\\u0648\\u0644\" && ctx.routeurl1 != \"/\\u0625\\u0646\\u0634\\u0627\\u0621-\\u062D\\u0633\\u0627\\u0628\" && ctx.routeurl1 != \"/company-profile\" && ctx.routeurl1 != \"/Gamal-Elkenany\");\n      }\n    },\n    directives: [i6.PopupComponent, i2.NgIf, i3.RouterOutlet, i7.NavbarComponent, i2.NgClass, i8.FooterComponent],\n    styles: [\"nav[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none;color:#fff}@media screen and (max-width: 800px){nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:none}nav[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block}}.toggleMenuStyle[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.display[_ngcontent-%COMP%]{display:block}.none[_ngcontent-%COMP%]{display:none}.center[_ngcontent-%COMP%]{display:block;width:2.875rem;height:2.875rem;left:50%;position:fixed;top:15px;z-index:1000;align-items:center}a[_ngcontent-%COMP%]{cursor:pointer!important}@media only screen and (max-width: 767px){app-popup[_ngcontent-%COMP%]{display:block}}@media only screen and (min-width: 768px){app-popup[_ngcontent-%COMP%]{display:none}}\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}