{"ast":null,"code":"import { catchError, EMPTY } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@app/modules/sectors/stock-exchange/statistics-module/_core/statistics.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/toastr.service\";\nimport * as i4 from \"../../services/alert.service\";\nexport let StatisticsMembersResolver = /*#__PURE__*/(() => {\n  class StatisticsMembersResolver {\n    constructor(statistics, router, toster, alertService) {\n      this.statistics = statistics;\n      this.router = router;\n      this.toster = toster;\n      this.alertService = alertService;\n    }\n\n    resolve(route, state) {\n      let type = route.paramMap.get('type') || '';\n      let id = route.paramMap.get('id') || '';\n      let arr = '';\n\n      if (type === 'المحلية') {\n        type = 'local';\n      } else if (type === 'الأعلاف') {\n        type = 'fodder';\n      } // console.log(\"resolver is work \",id,type)\n\n\n      if (type == \"fodder\") {\n        arr = localStorage.getItem('stockId');\n        return this.statistics.StatisicsMembersFodder(id, type, '', '', '0', '').pipe(catchError(e => {\n          this.toster.showFail(e.error.error);\n          this.alertService.error(e.error.error);\n          return EMPTY;\n        }));\n      } else {\n        return this.statistics.StatisicsMembersLocal(id, type, '', '', '').pipe(catchError(e => {\n          // this.router.navigate([\"\"]);\n          this.toster.showFail(e.error.error);\n          this.alertService.error(e.error.error);\n          return EMPTY;\n        }));\n      }\n    } //   async resolve1(route: ActivatedRouteSnapshot){\n    //     let type = route.paramMap.get('type')|| ''\n    //     let id = route.paramMap.get('id') || ''\n    //     console.log(\"resolver is work 1111\",id,type)\n    //     if(type == \"fodder\") {\n    //       await this.statistics.StatisicsListFodder(id).subscribe(res => {\n    //         this.arr+=res.data?.list_members[0].id      \n    //         console.log('====================================');\n    //         console.log(this.arr);\n    //         console.log('====================================');\n    //     })\n    //   }\n    // }\n\n\n    subtractDays(numOfDays, date = new Date()) {\n      date.setDate(date.getDate() - numOfDays);\n      let shortDate;\n\n      if (date.getMonth() + 1 < 10) {\n        shortDate = date.getFullYear() + '-0' + (date.getMonth() + 1) + '-' + date.getDate();\n      } else {\n        shortDate = date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate();\n      }\n\n      return shortDate;\n    }\n\n  }\n\n  StatisticsMembersResolver.ɵfac = function StatisticsMembersResolver_Factory(t) {\n    return new (t || StatisticsMembersResolver)(i0.ɵɵinject(i1.StatisticsService), i0.ɵɵinject(i2.Router), i0.ɵɵinject(i3.ToasterService), i0.ɵɵinject(i4.AlertService));\n  };\n\n  StatisticsMembersResolver.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: StatisticsMembersResolver,\n    factory: StatisticsMembersResolver.ɵfac,\n    providedIn: 'root'\n  });\n  return StatisticsMembersResolver;\n})();","map":null,"metadata":{},"sourceType":"module"}